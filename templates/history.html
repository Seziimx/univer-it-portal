{% extends "base.html" %}

{% block title %}–ò—Å—Ç–æ—Ä–∏—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫{% endblock %}

{% block content %}
<h1 style="text-align: center; font-family: 'Kaushan Script', cursive; margin-bottom: 20px;">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫</h1>
<div class="scrollable-section" style="flex: 1; overflow-y: auto; padding-right: 10px;">
    <h2 style="margin-bottom: 20px;">–°–ø–∏—Å–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫</h2>
    <div id="request-list" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
        {% for z in zayavki %}
        <div class="card">
            <h3>{{ z.type }}</h3>
            <p>{{ z.description }}</p>
            <p><strong>–î–∞—Ç–∞:</strong> {{ z.created_at.strftime('%d.%m.%Y %H:%M') }}</p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ z.status }}</p>
            <p><strong>–§–∞–∫—É–ª—å—Ç–µ—Ç:</strong> {{ z.user.faculty }}</p>
            <p><strong>–ö—Ç–æ –æ—Å—Ç–∞–≤–∏–ª –∑–∞—è–≤–∫—É:</strong> {{ z.user.username }}</p>
            {% if z.comment %}
            <div class="comments-section" style="margin-top: 15px; max-height: 100px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px; padding: 10px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);">
                <p style="font-size: 14px; color: #555;"><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</strong> {{ z.comment }}</p>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    <div id="no-requests" style="display: none; text-align: center; color: #888; font-size: 18px; margin-top: 20px;">
        üîç –ó–∞—è–≤–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ —Å–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫.
    </div>
</div>
{% endblock %}
